<ion-header>
    <ion-toolbar class="resultHead">
        <ion-buttons class="searchBtn" start>
            <button class="search_icon" (click)="show_search()" ion-button icon-only>
                <ion-icon name="search"></ion-icon>
            </button>
        </ion-buttons>
        <div class="searchFiels" [ngClass]="show_search_field ? 'active':''">
            <form (ngSubmit)="load_search_results()" name="login_form">
                <input type="text" [(ngModel)]="search_term" class="searchTxt" name="search" placeholder="Search">
            </form>
            <ion-icon name="close" class="icon" (click)="show_search()"></ion-icon>
        </div>
        <ion-title *ngIf="hide_header_contents == false">
            <div class="dots_box">
                <span class="un_active_dot"></span>
                <span class="dot"></span>
            </div>
        </ion-title>
        <ion-buttons *ngIf="hide_header_contents == false" end>
            <button (tap)="go_to_editor()" ion-button icon-only>
                <ion-icon name="add"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<span navPop class="wedge_icon"></span>
<ion-content swipe-vertical padding>
    <div class="no_search" *ngIf="no_search == true">
        <p>Nothing matched your search.</p>
    </div>
    <div class="search-panel">
        <div *ngIf="_loading" class="_spinner">
            <ion-spinner name="ios"></ion-spinner>
        </div>
        <ul class="search-result">
            <li (click)="showProfile(search_result)" *ngFor="let search_result of search_results; let i = index">
                <figure *ngIf="search_result.is_tote == true">
                    <img *ngIf="search_result.annotote.photo==null || search_result.annotote.photo==''" src="assets/img/Default.svg">
                    <img (load)="loaded = true" [ngClass]="{'img-loaded': loaded}" *ngIf="search_result.annotote.photo != null && search_result.annotote.photo != ''" [hidden]="!loaded" [src]="search_result.annotote.photo | image_base_path">
                    <ion-spinner *ngIf="!loaded && search_result.annotote.photo != null && search_result.annotote.photo != ''"></ion-spinner>
                </figure>
                <figcaption *ngIf="search_result.is_tote == true">
                    <h4>Search result {{i+1}}</h4>
                    <span>
                        <span class="searchTote">{{search_result.annotote.source}} </span>
                    <b>{{search_result.annotote.createdAt * 1000 | date:'shortTime'}} <ion-icon name="menu"></ion-icon></b>
                    </span>
                    <span class="excerptTxt">{{search_result.userAnnotote.fileText}}</span>
                </figcaption>
                <figure *ngIf="search_result.is_tote == false">
                    <img *ngIf="search_result.photo== null || search_result.photo==''" src="assets/img/img3.jpg">
                    <img (load)="loaded = true" [ngClass]="{'img-loaded': loaded}" *ngIf="search_result.photo != null && search_result.photo != ''" [hidden]="!loaded" [src]="search_result.photo | image_base_path">
                    <ion-spinner *ngIf="!loaded && search_result.photo != null && search_result.photo != ''"></ion-spinner>
                </figure>
                <figcaption *ngIf="search_result.is_tote == false">
                    <h4>Search result {{i+1}}</h4>
                    <span>{{search_result.firstName}} <i *ngIf="search_result.isFollowed == 1"><</i> <b> <ion-icon *ngIf="search_result.isFollowed == 0" (click)="followUser($event,search_result)" name="add"></ion-icon> <i *ngIf="search_result.isFollowed == 1">@</i> </b></span>
                    <span class="excerptTxt">{{search_result.description}}</span>
                </figcaption>
            </li>
        </ul>
    </div>
</ion-content>