<ion-header class="searchHeader">
    <ion-toolbar color="homeheader">
        <div [ngClass]="{'black': current_url == '', 'green':(current_url != '' && stream_color == 'me'),'yellow':(current_url != '' && stream_color == 'follows'),'pink':(current_url != '' && stream_color == 'top')}" class="search_header">
            <span [ngClass]="filter_mode?'activeOption':''" (click)="show_filters()" class="options"></span>
            <img src="assets/img/search.png" alt="" />
            <input search-field id="search_field_id" name="search" class="search_field" [(ngModel)]="search_txt" (ngModelChange)="value_updating_search()" type="text" placeholder="Search or enter address" />
            <span (click)="dismiss()" class="clear_button"></span>
        </div>
    </ion-toolbar>
</ion-header>
<ion-content swipe-vertical padding class="searchPage">
    <!-- content-->
    <ion-list *ngIf="!filter_mode">
        <ion-item *ngIf="search_loading" class="search_spinner">
            <ion-spinner name="ios"></ion-spinner>
        </ion-item>
        <ion-item (click)="show_share_options()" *ngIf="current_url" class="searchFilter">
            <img src="assets/img/shareBlack.png" alt="" />
            <span>Share this link (enter)</span>
        </ion-item>
        <ion-item (click)="clear_deep_link()" *ngIf="current_url" class="searchFilter">
            <img src="assets/img/searchBlack.png" alt="" />
            <span>New search or address</span>
        </ion-item>
        <!-- <ion-item *ngIf="!current_url && search_txt.length>0 && !entering_url && search_results.length==0 && !search_loading" class="searchFilter">
            <img src="assets/img/searchBlack.png" alt="">
            <span>No results</span>
        </ion-item> -->
        <ion-item (click)="get_search_results()" *ngIf="!current_url && search_txt.length>0 && !entering_url && !search_loading" class="searchFilter">
            <img src="assets/img/searchBlack.png" alt="">
            <span>Search (enter)</span>
        </ion-item>
        <ion-item (click)="!current_url && scrape_this_url()" *ngIf="search_txt.length > 0 && entering_url" class="searchFilter">
            <ion-icon name="eye"></ion-icon>
            <span>View (enter)</span>
        </ion-item>
        <ion-item (click)="save_search_entry('save_entry')" *ngIf="!current_url && search_txt.length>0 && entering_url" class="searchFilter">
            <ion-icon name="ios-cloud"></ion-icon>
            <span>Save</span>
        </ion-item>
        <ion-item (click)="save_search_entry('bookmark_entry')" *ngIf="!current_url && search_txt.length>0 && entering_url" class="searchFilter">
            <ion-icon name="ios-bookmark"></ion-icon>
            <span>Bookmark</span>
        </ion-item>
        <div *ngIf="search_txt.length>0" class="searchResult">
            <ion-item *ngFor="let search_result of search_results" (click)="showProfile(search_result)" class="user_list_item">
                <figure>
                    <img *ngIf="search_result.annotote.photo==null || search_result.annotote.photo==''" src="assets/img/img3.jpg">
                    <img *ngIf="search_result.annotote.photo != null && search_result.annotote.photo != ''" [src]="search_result.annotote.photo | image_base_path">
                </figure>
                <figcaption>
                    <h4 [innerText]="search_result.annotote.title"></h4>
                    <span>{{search_result.annotote.source}}</span>
                    <span class="rightContent">
                       {{search_result.annotote.createdAt * 1000 | date:'shortTime'}}<ion-icon class="lines" name="menu"></ion-icon>
                    </span>
                    <!-- <span class="rightAdd"><ion-icon name="add"></ion-icon></span> -->
                </figcaption>

                <!-- <span *ngIf="search_result.isFollowed==0" (click)="followUser($event, search_result)" class="follow_btn"></span>
                <span *ngIf="search_result.isFollowed==1" (click)="unFollowUser($event, search_result)" class="un_follow_btn"></span> -->
            </ion-item>
        </div>
    </ion-list>
    <ion-list *ngIf="filter_mode" class="filterMode">
        <div class="mediaMode">
            <h4>Media</h4>
            <ul>
                <li><img src="assets/img/tile-gray.png" alt=""></li>
                <li><img src="assets/img/roundbox.png" alt=""></li>
                <li><img src="assets/img/blackTag.png" alt=""></li>
                <li><img src="assets/img/blackPlay.png" alt=""></li>
                <li><img src="assets/img/@icon-gray.png" alt=""></li>
                <li><img src="assets/img/chat-gray.png" alt=""></li>
            </ul>
        </div>
        <div class="catMode">
            <h4>Category</h4>
            <ul>
                <li><span>Me</span></li>
                <li><span>Follows</span></li>
                <li class="active"><span>Top</span></li>
            </ul>
        </div>
        <div class="dateMode">
            <h4>Date</h4>
            <ul>
                <li><input type="text" placeholder="YYYY"></li>
                <li><input type="text" placeholder="MM"></li>
                <li><input type="text" placeholder="DD"></li>
            </ul>
        </div>
    </ion-list>
</ion-content>