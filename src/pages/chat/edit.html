<div class="top_empty_box" (tap)="close()">
</div>
<div class="content_follows_profile" [@enterAnimation] *ngIf="show == true">
    <ng-container *ngIf="isNew == false">
        <ng-container *ngIf="chatormsg == false">
            <ng-container *ngIf="stream == true">

                <div *ngIf="message != null && message.senderId != user.id" no-lines class="sharing_pop bottom-border">
                    <div class="main_label markIcon">
                        <img src="assets/img/markIcon.svg" />
                    </div>
                    <ul>
                        <li (click)="close('read')">
                            <span *ngIf="message.read == 0">Mark Read</span>
                            <span *ngIf="message.read == 1">Mark Unread</span>
                        </li>
                    </ul>
                </div>

                <!-- <div *ngIf="message.senderId == user.id" no-lines class="sharing_pop bottom-border">
            <div class="main_label editImg">
                <img src="assets/img/editImg.svg" />
            </div>
            <ul>
                <li (click)="close('edit')">
                    <span>Edit Message</span>
                </li>
            </ul>
            </div> -->

            </ng-container>
            <div no-lines class="sharing_pop three bottom-border">
                <div class="main_label">
                    <img src="assets/img/tagImg.svg" />
                </div>
                <ul>
                    <li *ngIf="message.messageTags.length == 0 && message.senderId == user.id" (tap)="close('tags')">
                        <span>Add Tags</span>
                    </li>
                    <li *ngIf="message.messageTags.length == 0 && message.senderId != user.id">
                        <span>No tags added</span>
                    </li>
                    <ng-container *ngFor="let tag of message.messageTags; let i=index">
                        <li *ngIf="i < 3" (tap)="close('tags')">
                            <span>
                                <ng-container *ngIf="tag.tagId == 1">^</ng-container>
                                <ng-container *ngIf="tag.tagId == 2">@{{tag.tagText}}</ng-container>
                                <ng-container *ngIf="tag.tagId == 3">#{{tag.tagText}}</ng-container>
                                <ng-container *ngIf="tag.tagId == 4">${{tag.tagText}}</ng-container>
                            </span>
                        </li>
                    </ng-container>
                    <li class="tabOption" *ngIf="message.messageTags.length > 3" (tap)="close('tags')">
                        <img src="assets/img/dotsOption.svg" />
                    </li>
                </ul>
            </div>
            <div no-lines class="sharing_pop bottom-border">
                <div class="main_label shareIcon">
                    <img src="assets/img/shareImg.svg" />
                </div>
                <ul>
                    <li (tap)="share('copy')">
                        <span>Copy</span>
                    </li>
                    <li (tap)="close('nothing')">
                        <span>Chat</span>
                    </li>
                    <li (tap)="share('email')">
                        <span>Email</span>
                    </li>
                    <li (tap)="share('twitter')">
                        <span>Twitter</span>
                    </li>
                    <li class="tabOption" (tap)="share('all')">
                        <img src="assets/img/dotsOption.svg" />
                    </li>
                </ul>
            </div>
        </ng-container>
        <ng-container *ngIf="chatormsg == true">
            <div no-lines class="sharing_pop bottom-border">
                <div class="main_label shareIcon">
                    <img src="assets/img/shareImg.svg" />
                </div>
                <ul>
                    <li (tap)="share_chat('copy')">
                        <span>Copy</span>
                    </li>
                    <li (tap)="close('nothing')">
                        <span>Chat</span>
                    </li>
                    <li (tap)="share_chat('email')">
                        <span>Email</span>
                    </li>
                    <li (tap)="share_chat('twitter')">
                        <span>Twitter</span>
                    </li>
                    <li class="tabOption" (tap)="share_chat('all')">
                        <img src="assets/img/dotsOption.svg" />
                    </li>
                </ul>
            </div>
            <div no-lines class="sharing_pop three bottom-border">
                <div class="main_label">
                    <img src="assets/img/tagImg.svg" />
                </div>
                <ul>
                    <li *ngIf="tags.length == 0 && (tote | chatVoteOptions) == true" (tap)="close('tags')">
                        <span>Add Tags</span>
                    </li>
                    <li *ngIf="tags.length == 0 && (tote | chatVoteOptions) == false">
                        <span>No tags added</span>
                    </li>
                    <ng-container *ngFor="let tag of tags; let i=index">
                        <li *ngIf="i < 3" (tap)="close('tags')">
                            <span>
                                <ng-container *ngIf="tag.tagId == 1">^</ng-container>
                                <ng-container *ngIf="tag.tagId == 2">@{{tag.tagText}}</ng-container>
                                <ng-container *ngIf="tag.tagId == 3">#{{tag.tagText}}</ng-container>
                                <ng-container *ngIf="tag.tagId == 4">${{tag.tagText}}</ng-container>
                            </span>
                        </li>
                    </ng-container>
                    <li class="tabOption" *ngIf="tags.length > 3" (tap)="close('tags')">
                        <img src="assets/img/dotsOption.svg" />
                    </li>
                </ul>
            </div>
            <div no-lines class="sharing_pop two bottom-border" *ngIf="message.anototeId != 0 && (tote | chatVoteOptions) == true">
                <div class="main_label">
                    <img src="assets/img/privacyImg.svg" />
                </div>
                <ul>
                    <li (click)="change_chatTote_privacy('public')">
                        <span [ngClass]="{'high': tote[0].privacy == 0}">Public</span>
                    </li>
                    <li (click)="change_chatTote_privacy('private')">
                        <span [ngClass]="{'high': tote[0].privacy == 1}">Private</span>
                    </li>
                </ul>
            </div>
            <div no-lines class="sharing_pop bottom-border" *ngIf="(tote | chatVoteOptions) == true">
                <div class="main_label markIcon">
                    <img src="assets/img/deleteIconGray.svg" />
                </div>
                <ul>
                    <li (click)="close('delete')">
                        <span>Delete</span>
                    </li>
                </ul>
            </div>
        </ng-container>
    </ng-container>
    <ng-container *ngIf="isNew == true">
        <div no-lines class="sharing_pop two bottom-border" *ngIf="toteId > 0">
            <div class="main_label">
                <img src="assets/img/privacyImg.svg" />
            </div>
            <ul>
                <li (click)="change_new_tote_privacy(0)">
                    <span [ngClass]="{'high': privacy == 0}">Public</span>
                </li>
                <li (click)="change_new_tote_privacy(1)">
                    <span [ngClass]="{'high': privacy == 1}">Private</span>
                </li>
            </ul>
        </div>
        <div no-lines class="sharing_pop four bottom-border">
            <div class="main_label">
                <img src="assets/img/deleteIconGray.svg" />
            </div>
            <ul>
                <li (click)="close('delete')">
                    <span>Delete</span>
                </li>
            </ul>
        </div>
    </ng-container>
</div>